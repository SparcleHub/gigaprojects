**Задание 1**

Изучение метрик с помощью Prometheus

**Требования**

1\. Установите node-exporter  
\-Убедитесь, что установлен node-exporter для сбора метрик вашего компьютера.  
\-Запустите Prometheus и node-exporter, убедитесь, что они работают.  
\-Настройте файл prometheus.yml, добавив задачу для node-exporter.  
\-Перезапустите Prometheus и убедитесь, что node-exporter отображается на странице Status → Targets.  
<br/>![637b1eaf69a24085f7611f41692eecbc.png](../../../_resources/637b1eaf69a24085f7611f41692eecbc.png)  
<br/>2\. Исследуйте метрики

\-Перейдите на вкладку Graph в веб-интерфейсе Prometheus.  
\-Найдите и выполните запрос для отображения всех метрик, предоставляемых node-exporter.  
<br/>![aea41dd72d63324fd955fe62ded4ffb2.png](../../../_resources/aea41dd72d63324fd955fe62ded4ffb2.png)

**Задание 2**

Работа с базовыми метриками

**Требования**

1\. Работа с базовыми метриками

\-Выполните запрос, который покажет количество доступной памяти.  
\-Постройте график для анализа изменения памяти во времени.  
<br/>![2ccd2a8344661d5c197e409a301dfbfd.png](../../../_resources/2ccd2a8344661d5c197e409a301dfbfd.png)  
<br/>

2\. Рассчитайте среднюю загрузку процессора

\-Выполните запрос для вычисления средней загрузки процессора за последние 5 минут.  
\-Проанализируйте полученные результаты.

**![e06f1ab8cb9920dcf2dee012f42b6ccd.png](../../../_resources/e06f1ab8cb9920dcf2dee012f42b6ccd.png)**

&nbsp;

**Задание 3**

Анализ дисков и нагрузки

**Требования**

1\. Определите самый загруженный диск

\-Напишите запрос, который покажет, какой диск был занят больше всего времени за последний час.  
\-Постройте график, чтобы визуализировать результаты.  
<br/>![d489841356436b0a17573e8666244cec.png](../../../_resources/d489841356436b0a17573e8666244cec.png)

2\. Проанализируйте нагрузку на диски

\-Выполните запрос, чтобы узнать общее время ввода-вывода для всех дисков за последние 10 минут.  
<br/>![6ab03b59eb6e5be5cb399b5658bcaa68.png](../../../_resources/6ab03b59eb6e5be5cb399b5658bcaa68.png)

&nbsp;

**Задание 4**

Работа с HTTP-запросами  
<br/>**Требования**  
<br/>1\. Определите общее количество HTTP-запросов  
<br/>![268e45e44a6a758b19531d34e677729f.png](../../../_resources/268e45e44a6a758b19531d34e677729f.png)

2\. Проанализируйте скорость изменений HTTP-запросов

\- Постройте график изменения количества запросов за последние 10 минут.

![89d64ec918dc872a423250c308d13275.png](../../../_resources/89d64ec918dc872a423250c308d13275.png)

&nbsp;

**Задание 5**

Создание алерта на высокую загрузку CPU

**Требования**

1\. Настройте Alertmanager  
\-Убедитесь, что Alertmanager установлен и добавлен в конфигурацию Prometheus.  
\-Добавьте алертинг при превышении порога загрузки цп 80%.  
<br/>![e15c9c80c943821798d9d979e0426a58.png](../../../_resources/e15c9c80c943821798d9d979e0426a58.png)  
<br/>

2\. Создайте симуляцию нагрузки на процессор при помощи утилиты в Linux и убедитесь, что Alertmanager отправит уведомление.

![164001bf521d8c402a8c2286e22e01ee.png](../../../_resources/164001bf521d8c402a8c2286e22e01ee.png)

![8ae51f497acd6ab7e37965e77b7bf174.png](../../../_resources/8ae51f497acd6ab7e37965e77b7bf174.png)  
![eb88c84aabb64216d53866118d701db7.png](../../../_resources/eb88c84aabb64216d53866118d701db7.png)

**Задание 6**

Анализ доли успешных HTTP-запросов

**Требования**

1\. Определите процент успешных запросов среди всех HTTP-запросов за последние 10 минут.  
![882d74d905d24484b42fdf44dceb176d.png](../../../_resources/882d74d905d24484b42fdf44dceb176d.png)

2\. Визуализируйте данные

\-Постройте график, чтобы увидеть изменения доли успешных запросов во времени.  
![32cb19f4c105eead47ba1adc775f053e.png](../../../_resources/32cb19f4c105eead47ba1adc775f053e.png)

3\. Проанализируйте ошибки

\-Напишите отдельный запрос, чтобы определить долю запросов с ошибками.  
![44c8f6edf4b84931d73dbc756dee841c.png](../../../_resources/44c8f6edf4b84931d73dbc756dee841c.png)

\-Сравните доли успешных запросов и запросов с ошибками, чтобы понять, как меняется стабильность работы веб- сервера.  
![3a09706295287a4f8554228449740779.png](../../../_resources/3a09706295287a4f8554228449740779.png)  
![4869d7860db85c2f477878766f2f1261.png](../../../_resources/4869d7860db85c2f477878766f2f1261.png)