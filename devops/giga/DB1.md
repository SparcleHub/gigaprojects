**Задание 1.**

Установка PostgreSQL:  
\-Установите PostgreSQL на сервере, следуя инструкциям для вашей операционной системы (например, sudo apt install postgresql для Ubuntu).  
Запуск и настройка службы:  
\-Запустите PostgreSQL и настройте автоматический запуск службы при старте системы.  
Создание базы данных и пользователя:  
\-Подключитесь к PostgreSQL через консоль (psql).  
![4dce426e1abb5f42eb74654dd374a4cb.png](../../_resources/4dce426e1abb5f42eb74654dd374a4cb.png)

\-Создайте нового пользователя для работы с базой данных, используя команду CREATE USER, и назначьте ему пароль.  
\-Создайте базу данных, которую будете использовать для выполнения заданий, и предоставьте права на нее вашему новому пользователю.  
![6299c1b7739766775e7f51c817f0c472.png](../../_resources/6299c1b7739766775e7f51c817f0c472.png)

\-Настройте конфигурацию для удаленного подключения, если это необходимо (измените параметры pg_hba.conf и postgresql.conf).  
Проверка соединения:  
\-Убедитесь, что можете подключиться к базе данных, используя созданного пользователя, и проверить работу системы на базовых командах (SELECT, INSERT и т.д.).

**Задание 2.**

Создайте таблицу students со следующими полями:  
\-student_id (тип INTEGER, первичный ключ),  
\-name (тип VARCHAR(50)),  
\-age (тип INTEGER),  
group_id (тип INTEGER, внешний ключ, ссылается на groups.group_id).  
Создайте таблицу groups:  
\-group_id (тип INTEGER, первичный ключ),  
\-group_name (тип VARCHAR(20)).  
\-Определите внешние ключи, связывающие student_id в таблице students с group_id в таблице groups.  
![7336bb01c54041f5832c80558219ace6.png](../../_resources/7336bb01c54041f5832c80558219ace6.png)  
\-Объясните выбор типов данных для каждого столбца, описав, почему вы выбрали именно эти типы.

- **INTEGER** для ID - оптимальный целочисленный тип для ключей
    
- **VARCHAR(50)** для имени - достаточно для полных имен, экономит место
    
- **VARCHAR(20)** для названия группы - достаточно для названий типа "Group A"
    
- **CHECK constraint** для age - ограничение возраста студентов  
    <br/>
    

\-Создайте индекс для быстрого поиска студентов по полю name.  
\-Проверьте, как наличие индекса влияет на скорость выполнения поиска по сравнению с отсутствием индекса, выполнив простые запросы до и после создания индекса.  
![63be014a7cc1c960cbdc605fd8056ea4.png](../../_resources/63be014a7cc1c960cbdc605fd8056ea4.png)  
![84ab003bf146b85348ec9a024fda239e.png](../../_resources/84ab003bf146b85348ec9a024fda239e.png)  
![21de58d9e6b0ddb6f30629d36e8f2178.png](../../_resources/21de58d9e6b0ddb6f30629d36e8f2178.png)  
![42066b0a536b33282e352a66ab642208.png](../../_resources/42066b0a536b33282e352a66ab642208.png)

\-Добавьте в таблицу students три записи, указав имя, возраст и группу.  
![44bf51c3526de47aa428487165b4b5b5.png](../../_resources/44bf51c3526de47aa428487165b4b5b5.png)

\-Также добавьте две записи в таблицу groups с названиями групп, например, Group A и Group B.  
![524c118abc15cce31aa4460fa4fc9938.png](../../_resources/524c118abc15cce31aa4460fa4fc9938.png)

**Задание** **3.**

Выполните следующие запросы:

\-Выберите всех студентов, отображая их имя и возраст.  
![9ed946de61f2de7a75212502d2b2ff6f.png](../../_resources/9ed946de61f2de7a75212502d2b2ff6f.png)

\-Выберите всех студентов, которые старше 20 лет.  
![b4588b7f8310822d04b5e47f8786fcaf.png](../../_resources/b4588b7f8310822d04b5e47f8786fcaf.png)

\-Выберите всех студентов вместе с их группами (используйте JOIN для объединения с таблицей groups).  
![88232fde87b4fb00cc99f32967611eee.png](../../_resources/88232fde87b4fb00cc99f32967611eee.png)

\-Обновите возраст одного из студентов, изменив его на 25 лет.  
\-Проверьте, что изменение выполнено, выполнив соответствующий запрос SELECT.  
![333f89792598ceab4941b70417bf4d5a.png](../../_resources/333f89792598ceab4941b70417bf4d5a.png)

\*-Удалите из таблицы всех студентов младше 18 лет.  
\*\*-Выполните запрос SELECT, чтобы убедиться, что студенты удалены.  
![edaba9dbea5c5d281f71e50b343409f5.png](../../_resources/edaba9dbea5c5d281f71e50b343409f5.png)  
\*

\-Добавьте в таблицу students новый столбец enrollment_date (тип DATE).  
![741ac6a54cdf1dde13412f6fa8a67750.png](../../_resources/741ac6a54cdf1dde13412f6fa8a67750.png)  
\-Удалите столбец enrollment_date, вернув таблицу к исходной структуре.  
![37de42c5012cea82a0439a4f9afe20d7.png](../../_resources/37de42c5012cea82a0439a4f9afe20d7.png)

\-Посчитайте общее количество студентов в таблице.  
![2f05c182d35b3cf02ff3816538425797.png](../../_resources/2f05c182d35b3cf02ff3816538425797.png)

\-Найдите средний возраст студентов.  
![f3c034f264e63bb053a989867cd7fb56.png](../../_resources/f3c034f264e63bb053a989867cd7fb56.png)

\-Выполните запрос INNER JOIN, чтобы вывести всех студентов вместе с их группами.  
![77a0ab7a34b49f19dcc24ff963d38e90.png](../../_resources/77a0ab7a34b49f19dcc24ff963d38e90.png)

\-Выполните запрос LEFT JOIN, чтобы отобразить все группы, даже если у них нет студентов  
![0d374e5d9814d76e4741c995b1b6ae03.png](../../_resources/0d374e5d9814d76e4741c995b1b6ae03.png)  
\-Выполните RIGHT JOIN, чтобы увидеть студентов с их группами, даже если группа не указана.  
![f072b03521d2eaa533dbf829583c5f43.png](../../_resources/f072b03521d2eaa533dbf829583c5f43.png)

**Итог**

Создайте запрос, объединяющий данные из таблиц students и groups, чтобы показать список всех студентов с указанием имени группы. Если у студента нет назначенной группы, укажите “Без группы”.  
![cb0cb6c3e5c739b9123a9d0f55107697.png](../../_resources/cb0cb6c3e5c739b9123a9d0f55107697.png)