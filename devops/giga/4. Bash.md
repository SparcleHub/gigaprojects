**Задание 1**

Скрипт мониторинга системы и управления логами

**Цель**: cоздать скрипт, который выполняет мониторинг системы и сохраняет результаты в лог-файлы.

**Требования**:  
1\. Мониторинг ресурсов:

\-Используйте команды для проверки загрузки CPU, памяти, места на диске.  
\-Выводите результаты в лог-файл, разделяя STDOUT и STDERR.  
![c3b04857ac897d4a2be866eb869913eb.png](../../_resources/c3b04857ac897d4a2be866eb869913eb.png)

2\. Управление логами:

\-Реализуйте ротацию логов (например, сохраняйте логи за последние 3 дня, старые удаляйте).  
![db6cd13eb792710b5ce1eedf1efcc1d0.png](../../_resources/db6cd13eb792710b5ce1eedf1efcc1d0.png)

3\. Сигналы и обработка ошибок:

\-Добавьте обработку сигналов (SIGINT, SIGTERM), чтобы скрипт корректно завершался.  
![c22779198857ad3385a0ff6cf5dc029a.png](../../_resources/c22779198857ad3385a0ff6cf5dc029a.png)

4\. Отладка:

\-Добавьте опцию для вывода отладочной информации (set -x).  
![d0ce7217a5a0d79ea458ab53ca9c4675.png](../../_resources/d0ce7217a5a0d79ea458ab53ca9c4675.png)

**Результат**: Рабочий скрипт, который можно запустить и проверить.  
![62f452dada5f2486432864a6ad933a39.png](../../_resources/62f452dada5f2486432864a6ad933a39.png)  
![801b3d71f6e828b74af41c4c402fa98a.png](../../_resources/801b3d71f6e828b74af41c4c402fa98a.png)  
![5085fb640b2d5e222c90484ceb960ea9.png](../../_resources/5085fb640b2d5e222c90484ceb960ea9.png)  
![43b309c027cd0af1f549e012617f6b27.png](../../_resources/43b309c027cd0af1f549e012617f6b27.png)  
<br/>

**Задание 2**

Система резервного копирования и проверки целостности

**Цель**: автоматизировать процесс резервного копирования файлов и проверку целостности.

**Требования:**

1\. Создание резервных копий:

\-Напишите скрипт для инкрементального копирования файлов из заданной директории в архивы.  
\-Используйте tar или rsync для создания архивов.  
![bd00c4b20757a46e3594c5f54905d285.png](../../_resources/bd00c4b20757a46e3594c5f54905d285.png)  
![0cbb1720ee6c5fcc30fd8f099ee2bbae.png](../../_resources/0cbb1720ee6c5fcc30fd8f099ee2bbae.png)  
![d75b0b7ad4a56c78beff9b6b1e153607.png](../../_resources/d75b0b7ad4a56c78beff9b6b1e153607.png)  
2\. Проверка целостности:

\-После создания архива выполните проверку целостности (например, с помощью md5sum).  
![f03387083291b505a9d8c02e8361dd0a.png](../../_resources/f03387083291b505a9d8c02e8361dd0a.png)

3\. Уведомления:

\-Если резервное копирование прошло успешно, добавьте запись в лог-файл.  
\-В случае ошибки перенаправьте сообщение в STDERR.  
![1d614a02ed3d15cabe156e477d7929b1.png](../../_resources/1d614a02ed3d15cabe156e477d7929b1.png)

4\. Управление расписанием:

\-Настройте выполнение скрипта через cron.  
![844ed8b7b94fe297771db2fcd7872a53.png](../../_resources/844ed8b7b94fe297771db2fcd7872a53.png)

**Результат**: полностью автоматизированная система резервного копирования.  
![8caeb23f8ebabd730a755b026e07d484.png](../../_resources/8caeb23f8ebabd730a755b026e07d484.png)  
![61462982287cf2732e61b77011df49cb.png](../../_resources/61462982287cf2732e61b77011df49cb.png)

&nbsp;

&nbsp;

**Задание 3**

Анализ процессов и диагностика системы

**Цель**: провести диагностику системы с помощью инструментов анализа процессов.

**Требования**:

1\. Анализ ресурсов:

\-Напишите скрипт, который запускает несколько процессов с высокой нагрузкой на CPU, память и диск.

\-Используйте top, htop и /proc для анализа.  
![daa51bd2a91fa25deab8accb42ab2f8e.png](../../_resources/daa51bd2a91fa25deab8accb42ab2f8e.png)  
![70acd352c4a6215a1b3c7056f7dc3359.png](../../_resources/70acd352c4a6215a1b3c7056f7dc3359.png)  
<br/>![a6a98ef6991ad349b6a0758f9ed54c4d.png](../../_resources/a6a98ef6991ad349b6a0758f9ed54c4d.png)![e11d87be3829c99cd3b07ffef4ef774a.png](../../_resources/e11d87be3829c99cd3b07ffef4ef774a.png)

![07eabba0edf8ff7b8f64a30811afc710.png](../../_resources/07eabba0edf8ff7b8f64a30811afc710.png)

2\. Статусы процессов:

\-Создайте процессы-зомби и сироты, проанализируйте их статус.  
![235dbed646f80f8c50576c81c99a87e0.png](../../_resources/235dbed646f80f8c50576c81c99a87e0.png)  
![c51cd22fa0caa37546634172f0104301.png](../../_resources/c51cd22fa0caa37546634172f0104301.png)

\-Используйте ps для вывода информации о процессах.  
![2d374c41ad7e746ffb9bd20938b51805.png](../../_resources/2d374c41ad7e746ffb9bd20938b51805.png)

3\. Использование strace:

\-Выполните анализ системных вызовов для команды ls с помощью strace.  
![262c3b9929c3b66b14705316abf906cb.png](../../_resources/262c3b9929c3b66b14705316abf906cb.png)

\-Выведите в лог-файл список вызванных системных функций.  
![d85ad86ef0b19ad574b35470101f93c3.png](../../_resources/d85ad86ef0b19ad574b35470101f93c3.png)

4\. Оптимизация:

\-Измените приоритет одного из процессов (с помощью nice или ionice) и посмотрите, как это влияет на производительность.  
![1112427f900cde602acfeb7bc41569e6.png](../../_resources/1112427f900cde602acfeb7bc41569e6.png)  
![efce196e6c1ed6f669daf3d6bbf49bf4.png](../../_resources/efce196e6c1ed6f669daf3d6bbf49bf4.png)  
![73587b44e719930a6a6391da9a290df5.png](../../_resources/73587b44e719930a6a6391da9a290df5.png)

**Результат**: Отчет о поведении системы под нагрузкой и рекомендации по оптимизации.

&nbsp;

&nbsp;

&nbsp;

**Задание 4**

Автоматизация управления пользователями

**Цель**: создать скрипт для управления пользователями системы.

**Требования**:

1\. Создание пользователей:

\-Напишите скрипт, который создает пользователей на основе данных из CSV файла.  
![2bdcb3abeed15cf7bcfa73cde2560fd1.png](../../_resources/2bdcb3abeed15cf7bcfa73cde2560fd1.png)  
![2341286d798e76a4c13e641222a70c5e.png](../../_resources/2341286d798e76a4c13e641222a70c5e.png)

\-Задайте каждому пользователю домашнюю директорию, сгенерируйте SSH-ключи и назначьте пароль.  
![db0712c5debd5133bb74b02a1f439704.png](../../_resources/db0712c5debd5133bb74b02a1f439704.png)

2\. Управление группами:

\-Добавьте пользователей в группы в зависимости от их роли.  
\-Проверьте и обновите права доступа на директории, связанные с группами.  
![470db87b885a0b388b5bcb47802d1172.png](../../_resources/470db87b885a0b388b5bcb47802d1172.png)

3\. Логи и отчеты:

\-Все изменения записывайте в лог-файл (например, созданные пользователи, ошибки).  
![f6375cc151b2678d0c309615066a92ac.png](../../_resources/f6375cc151b2678d0c309615066a92ac.png)

4\. Удаление пользователей:

\-Добавьте функционал для удаления пользователей, указанных в другом CSV файле, с возможностью удаления их домашней директории.  
![cba10f0c0e63a1916335a58fde1d1abb.png](../../_resources/cba10f0c0e63a1916335a58fde1d1abb.png)  
![e0c870cda4d8ffab3fc156e32eb097d3.png](../../_resources/e0c870cda4d8ffab3fc156e32eb097d3.png)  
<br/>![c5020ee1b4fc4b29098b7ef1e032473c.png](../../_resources/c5020ee1b4fc4b29098b7ef1e032473c.png)

**Результат**: Готовый скрипт для массового управления пользователями.  
![ab69666bcd766938d7bc9d6832cd0b37.png](../../_resources/ab69666bcd766938d7bc9d6832cd0b37.png)  
![ac2daf52f1ec674c0eaf24378bfa9867.png](../../_resources/ac2daf52f1ec674c0eaf24378bfa9867.png)  
![fc7208257e62f08e533709322066345e.png](../../_resources/fc7208257e62f08e533709322066345e.png)